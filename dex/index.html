<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="importmap">
  {
    "imports": {
      "chart.js": "https://cdn.esm.sh/chart.js@4.4.1",
      "chart.js/helpers": "https://cdn.esm.sh/chart.js@4.4.1/helpers",
      "@kurkle/color": "https://cdn.esm.sh/@kurkle/color@0.3.2",
      "vue": "/js/vue.esm-browser.js"
    }
  }
  </script>
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="apple-touch-icon" href="/img/dlux-icon-192.png">
  <meta name="theme-color" content="#111222" />
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <!-- Bootstrap -->
  <link href="/css/custom.css" rel="stylesheet" />
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Space+Grotesk:wght@300..700&display=swap"
    rel="stylesheet">
  <!-- Icons -->
  <script src="https://kit.fontawesome.com/0f693ffc58.js" crossorigin="anonymous"></script>
  <!-- Initialization -->
  <script type="module" src="/js/v3-dex.js"></script>
  <script src="/reg-sw.js"></script>
</head>

<body id="index">
  <div id="app" class="d-flex flex-column vh-100" v-cloak>
    <div>
      <nav-vue @login="setValue('account', $event);getTokenUser($event);getHiveUser($event)"
        @logout="setValue('account', '');removeUser()" @ack="removeOp($event)" @refresh="run($event)" :op="toSign"
        :lapi="lapi" />
    </div>
    <main role="main" class="d-flex flex-column flex-grow-1 padmain-subbar" v-cloak>
      <div class="container fixed-top navbar-subbar p-0">
        <div class="navbar-subbar-container">
          <div class="navbar-subbar-content">
            <!-- token select -->
            <div id="userApiSelect" class="me-1">
              <div v-cloak class="dropdown-center js-hoverable-dropdown">
                <a class="btn btn-outline-light d-flex align-items-center text-nowrap" role="button"
                  id="tokenDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="fa-solid fa-atom force-parent-lh"></i>
                  <span class="d-none d-sm-block ms-1">{{TOKEN}}</span>
                  <i class="d-none d-md-block ms-1 fa-solid fa-caret-down fa-fw"></i>
                </a>
                <div class="hover-gap"></div>
                <ul class="dropdown-menu dropdown-menu-dark bg-black" aria-labelledby="tokenDropdownBtn">
                  <li>
                    <h6 class="dropdown-header">HIVE / HBD</h6>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="setApi('https://token.dlux.io')"
                      v-bind:class="{'text-warning': TOKEN == 'DLUX'}">DLUX</a>
                  </li>

                  <li>
                    <a class="dropdown-item" role="button" @click="setApi('https://duat.hivehoneycomb.com')"
                      v-bind:class="{'text-warning': TOKEN == 'DUAT'}">DUAT</a>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="setApi('https://spkinstant.hivehoneycomb.com')"
                      v-bind:class="{'text-warning': TOKEN == 'LARYNX'}">LARYNX</a>
                  </li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>
                  <li class="d-flex mt-2 mb-1">
                    <!-- runner status modal button -->
                    <button :title="behindTitle" type="button" class="btn btn-sm mx-2 w-100"
                      :class="[{'btn-outline-success':behind < 30},{'btn-outline-warning':behind >= 30 && behind < 60},{'btn-outline-danger':behind >= 60}]"
                      data-bs-toggle="modal" data-bs-target="#runnerStatusModal">
                      {{runners.length}}<i class="fas fa-user-lock ms-1"></i></span>
                    </button>
                  </li>
                  <li class="d-flex mt-2 mb-1" v-if="isnode">
                    <!-- token settings modal button -->
                    <button type="button" class="btn btn-outline-light btn-sm mx-2 w-100" data-bs-toggle="modal"
                      data-bs-target="#tokenSettingsModal">
                      Node<i class="fas fa-cog ms-1"></i>
                    </button>
                  </li>
                </ul>
              </div>
            </div>
            <!-- modal button for small screen wallet -->
            <button type="button" data-bs-toggle="modal" data-bs-target="#dexWallet"
              class="btn d-md-none btn-outline-success ms-auto d-flex align-items-center"><i aria-hidden="true"
                class="fa-solid fa-wallet force-parent-lh me-2"></i>
              <p class="me-1 mb-0 fs-6">{{formatNumber(bartoken,3,'.',',')}} {{TOKEN}}
                <i aria-hidden="true" class="fa-fw fa-solid fa-caret-down"></i>
              </p>
            </button>
            <!-- TOKEN Balance -->
            <div v-if="account"
              class="ms-auto d-none d-md-flex dropdown-center align-items-center text-white-50 js-hoverable-dropdown">
              <a class="dropdown-toggle btn text-honey d-flex align-items-center mx-1" href="#" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">
                <span class="me-1">{{formatNumber(bartoken,3,'.',',')}} {{TOKEN}}</span>
              </a>
              <div class="hover-gap"></div>
              <ul class="dropdown-menu dropdown-menu-dark bg-black p-2">
                <div class="d-flex flex-wrap" style="min-width: 300px;">
                  <li class="dropdown-header text-center w-100">{{TOKEN}} WALLET</li>

                  <!-- Balances Summary -->
                  <div class="w-100 mx-1 mb-2 border-bottom border-white-50">
                    <div class="d-flex flex-column text-center py-2">
                      <div class="d-flex justify-content-between align-items-center mb-1">
                        <span class="text-honey">{{TOKEN}}:</span>
                        <span
                          class="text-honey">{{formatNumber(accountapi.balance/pow10(protocol.precision),3,'.',',')}}</span>
                      </div>
                      <div v-if="accountapi.poweredUp" class="d-flex justify-content-between align-items-center mb-1">
                        <span class="text-primary">{{TOKEN}}P:</span>
                        <span
                          class="text-primary">{{formatNumber(accountapi.poweredUp/pow10(protocol.precision),3,'.',',')}}</span>
                      </div>
                      <div v-if="accountapi.gov" class="d-flex justify-content-between align-items-center">
                        <span class="text-info">{{TOKEN}}G:</span>
                        <span
                          class="text-info">{{formatNumber(accountapi.gov/pow10(protocol.precision),3,'.',',')}}</span>
                      </div>
                    </div>

                  </div>

                  <!-- Actions -->
                  <div v-for="action in features" class="d-flex"
                    :class="{'w-100': action.id == 'rewards' || action.id == 'claim' && accountapi[action.addr || 'balance'] > 0}">
                    <!-- claim / rewards-->
                    <div
                      v-if="action.id == 'rewards' || action.id == 'claim' && accountapi[action.addr || 'balance'] > 0"
                      class="d-flex flex-grow-1">
                      <div class="d-flex flex-column w-100 pt-2 mx-1 mb-2 border-bottom border-white-50">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                          <span v-if="action.id == 'rewards' || action.id == 'claim'">{{action.string}}:</span>
                          <span
                            v-if="action.id == 'rewards' || action.id == 'claim'">{{formatNumber(accountapi[action.addr
                            || 'balance']/pow10(protocol.precision),3,'.',',')}}
                            {{TOKEN}}</span>
                        </div>
                        <modal-vue v-if="protocol.head_block && accountapi.head_block" :func="action.id" :mypfp="mypfp"
                          :token="TOKEN" :tokenuser="accountapi" :account="account" :tokenprotocol="protocol"
                          :api="lapi" :tokenstats="stats" @tosign="toSign = $event" v-slot:trigger
                          class="d-flex w-100 pb-3">
                          <button type="button" class="btn btn-danger w-100 trigger">
                            Claim<i :class="action.fa_class" class="ms-2"></i>
                          </button>
                        </modal-vue>
                      </div>
                    </div>
                    <!-- wallet functions -->
                    <div v-else class="d-flex" style="width: 150px;">
                      <modal-vue v-if="protocol.head_block && accountapi.head_block" :func="action.id" :mypfp="mypfp"
                        :token="TOKEN" :tokenuser="accountapi" :account="account" :tokenprotocol="protocol" :api="lapi"
                        :tokenstats="stats" @tosign="toSign = $event" v-slot:trigger class="d-flex w-100">
                        <button type="button"
                          class="btn btn-dark border border-white-50 m-1 trigger w-100 d-flex align-items-center justify-content-center"
                          style="font-size: .9em;">
                          <span class="d-flex flex-column">
                            <i :class="action.fa_class" class="mb-1"></i>
                            {{action.string}}
                          </span>
                        </button>
                      </modal-vue>
                    </div>
                  </div>
                </div>
              </ul>
            </div>

            <!-- HIVE Balance -->
            <div v-if="account" id="userHive" class="mx-1 d-none d-md-flex dropdown-center js-hoverable-dropdown">
              <a class="dropdown-toggle btn text-hive" data-bs-auto-close="outside" role="button"
                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" v-cloak>
                <span class="me-1" v-cloak>{{formatNumber(barhive,3,'.',',')}} HIVE</span>
              </a>
              <div class="hover-gap"></div>
              <ul class="dropdown-menu dropdown-menu-dark text-white-50 p-2 text-left bg-black" style="width: 300px">
                <li>
                  <h6 class="dropdown-header text-center">SEND HIVE</h6>
                </li>
                <li>
                  <form id="hiveForm" @submit.prevent="validateForm('hiveForm', 'hiveFormValid');sendhive()"
                    class="needs-validation" novalidate>
                    <div class="row mb-3">
                      <label class="form-label" for="sendHiveTo">To:</label>
                      <div class="input-group">
                        <span class="input-group-text text-white-50">
                          @
                        </span>
                        <input id="sendHiveTo" class="form-control text-info"
                          @blur="checkAccount('sendHiveTo', 'sendHiveAllowed')" required v-model="sendHiveTo"
                          type="text" placeholder="Recipient" />
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label class="form-label">Amount:</label>
                      <div class="input-group">
                        <input class="form-control text-info" required v-model="sendHiveAmount" type="number"
                          step="0.001" min="0.001" :max="parseF(barhive)" placeholder="0.000" />
                        <span class="input-group-text text-white-50">
                          HIVE
                        </span>
                      </div>
                      <div class="small text-center pt-2">
                        <a type="button" @click="setValue('sendHiveAmount',parseF(barhive))"
                          class="text-hive no-decoration">{{formatNumber(barhive,3,'.',',')}} HIVE</a>
                        Available
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label class="form-label">Memo:</label>
                      <div class="input-group">
                        <input class="form-control text-info" type="text" v-model="sendHiveMemo"
                          placeholder="memo (optional)" />
                      </div>
                    </div>
                    <div class="text-center mb-2">
                      <button type="submit" class="btn btn-hive">
                        Send<i class="fas fa-paper-plane ms-2"></i>
                      </button>
                    </div>
                  </form>

                </li>
              </ul>
            </div>
            <!-- HBD Balance -->
            <div v-if="account" id="userHbd" class="ms-1 d-none d-md-flex dropdown dropdown-end js-hoverable-dropdown">
              <a class="dropdown-toggle btn text-hbd" data-bs-auto-close="outside" role="button"
                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" v-cloak>
                <span class="me-1" v-cloak>{{formatNumber(barhbd,3,'.',',')}} HBD</span></a>
              <div class="hover-gap"></div>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark p-2 text-white-50 text-left bg-black"
                style="width: 300px">
                <li>
                  <h6 class="dropdown-header text-center">SEND HBD</h6>
                </li>
                <li>
                  <form id="hbdForm" @submit.prevent="validateForm('hbdForm', 'hbdFormValid');sendhbd()"
                    class="needs-validation" novalidate>
                    <div class="row mb-3">
                      <label class="form-label">To:</label>
                      <div class="input-group">
                        <span class="input-group-text text-white-50">
                          @</span>
                        <input class="form-control text-info" @blur="checkAccount('sendHBDTo', 'sendHBDAllowed')"
                          required v-model="sendHBDTo" type="text" placeholder="Recipient" />
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label class="form-label">Amount:</label>
                      <div class="input-group">
                        <input class="form-control text-info" required v-model="sendHBDAmount" type="number"
                          step="0.001" min="0.001" :max="parseF(barhbd)" placeholder="0.000" />
                        <span class="input-group-text text-white-50">
                          HBD
                        </span>
                      </div>
                      <div class="small text-center pt-2">
                        <a role="button" @click="setValue('sendHBDAmount',parseF(barhbd))"
                          class="text-hbd no-decoration">{{formatNumber(barhbd,3,'.',',')}} HBD</a>
                        Available
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label class="form-label">Memo:</label>
                      <div class="input-group">
                        <input class="form-control text-info" v-model="sendHBDMemo" type="text"
                          placeholder="memo (optional)" />
                      </div>
                    </div>
                    <div class="text-center mb-2">
                      <button type="submit" class="btn btn-hbd">
                        Send<i class="fas fa-paper-plane ms-2"></i>
                      </button>
                    </div>
                  </form>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="container text-white pt-3">
        <div v-if="!hidePrompt && !hasHiddenPrompt && account" class="alert alert-info p-2 mb-3" role="alert">
          <div class="d-flex align-items-center justify-content-around flex-wrap">
            <div class="text-center">Help contribute to further development by supporting the <a
                href="https://peakd.com/proposals/322" target="_blank">HoneyComb Improvement Proposal</a></div>
            <div class=" mt-1">
              <button @click="voteProposal(322)" class="btn btn-primary ms-auto">Vote Now</button>
              <button @click="banishPrompt()" class="btn btn-secondary ms-2">Maybe Later</button>
            </div>
          </div>
        </div>
        <!-- current token tick -->
        <div class="row mb-3">
          <div class="col-6 col-md-4">
            <!-- col 1 -->
            <div class="rounded p-3 border" v-if="buyhive.checked">
              <div class="d-flex align-items-center justify-content-center" id="tokenHiveTick">
                <h2 class="lead my-0" v-cloak>
                  {{TOKEN}}: ${{toFixed((dexapi.markets ?
                  dexapi.markets.hive.tick : 0) * hiveprice.hive.usd,
                  6)}}
                </h2>
              </div>
            </div>
            <div class="rounded p-3 border" v-if="buyhbd.checked">
              <div class="d-flex align-items-center justify-content-center" id="tokenHbdTick">
                <h2 class="lead my-0" v-cloak>
                  {{TOKEN}}: ${{toFixed((dexapi ?
                  dexapi.markets.hbd.tick : 0 )*
                  hbdprice.hive_dollar.usd, 6)}}
                </h2>
              </div>
            </div>
          </div>
          <!-- col 2 hive -->
          <div class="col-4 d-none d-md-block">
            <div class="rounded p-3 border">
              <div class="d-flex align-items-center justify-content-center" id="hiveTick">
                <h2 class="lead my-0" v-cloak>
                  HIVE: ${{hiveprice.hive.usd}}
                </h2>
              </div>
            </div>
          </div>
          <!-- col 3 hbd -->
          <div class="col-4 d-none d-md-block">
            <div class="rounded p-3 border">
              <div class="d-flex align-items-center justify-content-center" id="hbdTick">
                <h2 class="lead my-0" v-cloak>
                  HBD: ${{hbdprice.hive_dollar.usd}}
                </h2>
              </div>
            </div>
          </div>
          <!-- col 2 sm -->
          <div class="col-6 d-md-none" v-if="buyhive.checked">
            <div class="rounded p-3 border">
              <div class="d-flex align-items-center justify-content-center" id="hiveTick">
                <h2 class="lead my-0" v-cloak>
                  HIVE: ${{hiveprice.hive.usd}}
                </h2>
              </div>
            </div>
          </div>
          <div class="col-6 d-md-none" v-if="buyhbd.checked">
            <div class="rounded p-3 border">
              <div class="d-flex align-items-center justify-content-center" id="hbdTick">
                <h2 class="lead my-0" v-cloak>
                  HBD: ${{hbdprice.hive_dollar.usd}}
                </h2>
              </div>
            </div>
          </div>
        </div>
        <!-- market stats -->
        <div id="market" class="row mb-3 text-center">
          <div class="col-6 col-lg-3">
            <div class="d-flex align-items-center justify-content-center">
              <h5 class="m-0">Market</h5>
              <div class="dropdown show d-flex align-items-center p-0 m-0 dropdown-center js-hoverable-dropdown">
                <a class="text-white" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false">
                  <h5 class="m-0"><i class="fas fa-info-circle ms-2"></i></h5>
                </a>
                <div class="dropdown-menu dropdown-menu-dark p-4 text-white-50 text-left bg-black">
                  <h6 class="dropdown-header">{{TOKEN}} STATS</h6>
                  <div class="dropdown-divider bg-light"></div>
                  <p class="mb-0">Supply:</p>
                  <p>
                    {{formatNumber(stats.tokenSupply/1000,3,'.',',')}}
                  </p>
                  <div class="dropdown-divider bg-light"></div>
                  <p class="mb-0">Market Cap:</p>
                  <p>${{formatNumber(marketCap,2,'.',',')}}</p>
                  <div class="dropdown-divider bg-light"></div>
                  <p class="mb-0">DEX Fee:</p>
                  <p>{{formatNumber(stats.dex_fee*100,3,'.',',')}}%</p>
                  <div class="dropdown-divider bg-light"></div>
                  <p class="mb-0">Clearing Time:</p>
                  <p class="mb-0">~10 Minutes</p>
                </div>
              </div>
            </div>
            <div class="container-fluid mt-3">
              <div>
                <div class="btn-group">
                  <input type="radio" class="btn-check" name="buyPair" id="setHive" autocomplete="off" checked
                    @click="togglecoin('hive');setValue('buyHiveTotal', 0);setValue('sellHiveTotal', 0);setValue('buyHbdTotal', 0);setValue('sellHbdTotal', 0);getHistorical()" />
                  <label class="btn btn-outline-warning" for="setHive">HIVE</label>
                  <input type="radio" class="btn-check" name="buyPair" id="setHbd" autocomplete="off"
                    @click="togglecoin('hbd');setValue('buyHbdTotal', 0);setValue('sellHbdTotal', 0);setValue('buyHiveTotal', 0);setValue('sellHiveTotal', 0);getHistorical()" />
                  <label class="btn btn-outline-warning" for="setHbd">HBD</label>
                </div>
              </div>
            </div>
          </div>
          <div class="col-6 d-lg-none">
            <div class="mt-2 col" v-if="buyhive.checked">
              <h5>24h Volume</h5>
              <i class="fab fa-hive me-1"></i><span v-cloak>{{volume.hive}}</span><br />
              <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed(volume.hive * hiveprice.hive.usd,
                2)}}</span>
            </div>
            <div class="mt-2 col" v-if="buyhbd.checked">
              <h5>24h Volume</h5>
              <i class="fab fa-hive me-1"></i><span v-cloak>{{volume.hbd}}</span><br />
              <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed(volume.hbd * hbdprice.hive_dollar.usd,
                2)}}</span>
            </div>
          </div>
          <div class="col-lg-9" v-if="buyhive.checked">
            <div class="row">
              <div class="mt-2 col">
                <h5>Bid</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{hivebuys[0] ? hivebuys[0].rate : 0}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed((hivebuys[0] ? hivebuys[0].rate : 0 ) *
                  hiveprice.hive.usd, 6)}}</span>
              </div>
              <div class="mt-2 col">
                <h5>Ask</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{hivesells[0] ? hivesells[0].rate : 0}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed((hivesells[0] ? hivesells[0].rate : 0 ) *
                  hiveprice.hive.usd, 6)}}</span>
              </div>
              <div class="mt-2 col">
                <h5>Last</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{dexapi.markets ? dexapi.markets.hive.tick :
                  0}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed((dexapi.markets ?
                  dexapi.markets.hive.tick : 0
                  ) * hiveprice.hive.usd, 6)}}</span>
              </div>
              <div class="mt-2 col d-none d-lg-block">
                <h5>24h Volume</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{volume.hive}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed(volume.hive * hiveprice.hive.usd,
                  2)}}</span>
              </div>
            </div>
          </div>
          <div class="col-lg-9" v-if="buyhbd.checked">
            <div class="row">
              <div class="mt-2 col">
                <h5>Bid</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{hbdbuys[0] ? hbdbuys[0].rate : 0}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed((hbdbuys[0] ? hbdbuys[0].rate : 0 ) *
                  hbdprice.hive_dollar.usd, 6)}}</span>
              </div>
              <div class="mt-2 col">
                <h5>Ask</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{hbdsells[0] ? hbdsells[0].rate : 0}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed((hbdsells[0] ? hbdsells[0].rate : 0 ) *
                  hbdprice.hive_dollar.usd, 6)}}</span>
              </div>
              <div class="mt-2 col">
                <h5>Last</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{dexapi.markets ? dexapi.markets.hive.tick :
                  0}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed((dexapi.markets ?
                  dexapi.markets.hive.tick : 0
                  ) * hbdprice.hive_dollar.usd, 6)}}</span>
              </div>
              <div class="mt-2 col d-none d-lg-block">
                <h5>24h Volume</h5>
                <i class="fab fa-hive me-1"></i><span v-cloak>{{volume.hbd}}</span><br />
                <i class="fas fa-dollar-sign mx-1"></i><span v-cloak>{{toFixed(volume.hbd * hbdprice.hive_dollar.usd,
                  2)}}</span>
              </div>
            </div>
          </div>
        </div>
        <!-- market chart -->
        <div class="marketChart mt-3 mb-3">
          <div id="chartContainer" ref="dumbo" class="rounded border d-flex align-items-center justify-content-center">
            <candlestick-chart :data="chartData" :options="chart" />
            <!--<trading-vue :data="this.$data" ref="tvjs" :id="chart.id" :width="chart.width" :height="chart.height"
              :title-txt="chartTitle" :color-back="chart.bg" />
             Trading Vue 2 -->
          </div>
          <div class="mt-2 text-center d-flex justify-content-between">
            <div>
              <div class="dropdown js-hoverable-dropdown">
                <a class="btn btn-outline-secondary dropdown-toggle" role="button" id="barwidth"
                  data-bs-toggle="dropdown" aria-expanded="false">
                  {{barwidth == 86400000 ? '1 Day' : barwidth == 21600000 ? '6 Hours' : barwidth == 3600000 ? '1 Hour' :
                  barwidth == 900000 ? '15 Minutes' : barwidth == 300000 ? '5 Minutes' : barwidth == 60000 ? '1 Minute'
                  : '???'}}
                </a>
                <ul class="dropdown-menu dropdown-menu-dark bg-black" aria-labelledby="barwidth">
                  <li>
                    <a class="dropdown-item" role="button" @click="barwidth = 60000; getHistorical()">1 minute</a>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="barwidth = 300000; getHistorical()">5 minutes</a>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="barwidth = 900000; getHistorical()">15 minutes</a>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="barwidth = 3600000; getHistorical()">1 hour</a>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="barwidth = 21600000; getHistorical()">6 hours</a>
                  </li>
                  <li>
                    <a class="dropdown-item" role="button" @click="barwidth = 86400000; getHistorical()">1 day</a>
                  </li>
                </ul>
              </div>
              <!-- <select id="time-scale" class="form-select" v-model="barwidth"
                  @change="getHistorical()">
                  <option value="60000">1m</option>
                  <option value="300000">5m</option>
                  <option value="900000">15m</option>
                  <option value="3600000">1h</option>
                  <option value="21600000" selected>6h</option>
                  <option value="86400000">1d</option>
                </select> -->
            </div>
            <div></div>
            <div>
              <button v-if="account" class="btn btn-outline-primary" role="button" data-bs-toggle="collapse"
                href="#openOrdersDrawer" aria-expanded="false" aria-controls="openOrdersDrawer">
                OPEN ORDERS (<span v-cloak>{{openorders.length}}</span>)
                <i class="fas fa-book-reader ms-2"></i>
              </button>
            </div>
          </div>
          <div id="openOrdersDrawer" class="collapse">
            <div class="py-5">
              <div v-if="openorders.length == 0" class="text-center text-white-50">
                <h5>No open orders</h5>
              </div>
              <div class="table-responsive table-blur rounded border" v-if="openorders.length > 0">
                <table role="table" aria-busy="false" aria-colcount="7" class="table table-striped table-hover"
                  id="useropenorders">
                  <thead role="rowgroup" class="">
                    <tr role="row" class="">
                      <th role="columnheader" style="border-top-left-radius: .375em;"
                        v-bind:class="{'col-sort':orders.blocka || orders.blockd}" aria-colindex="1">
                        <div class="d-flex align-items-center">
                          <div class="me-auto">BLOCK</div>
                          <button title="Sort Ascending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','block','asc');toggleOrders('blocka')"
                            v-bind:class="{'bg-primary text-white':orders.blocka}">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','block','desc');toggleOrders('blockd')"
                            v-bind:class="{'bg-primary text-white':orders.blockd}">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" class="" v-bind:class="{'col-sort':orders.tokena || orders.tokend}"
                        aria-colindex="2">
                        <div class="d-flex align-items-center">
                          <div class="me-auto">{{TOKEN}}</div>
                          <button title="Sort Ascending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','amount','asc');toggleOrders('tokena')"
                            v-bind:class="{'bg-primary text-white':orders.tokena}">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','amount','desc');toggleOrders('tokend')"
                            v-bind:class="{'bg-primary text-white':orders.tokend}">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" class="" v-bind:class="{'col-sort':orders.coina || orders.coind}"
                        aria-colindex="3">
                        <div class="d-flex align-items-center">
                          <div class="me-auto">HIVE/HBD</div>
                          <button title="Sort Ascending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','nai','asc');toggleOrders('coina')"
                            v-bind:class="{'bg-primary text-white':orders.coina}">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','nai','desc');toggleOrders('coind')"
                            v-bind:class="{'bg-primary text-white':orders.coind}">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" class="" v-bind:class="{'col-sort':orders.filleda || orders.filledd}"
                        aria-colindex="4">
                        <div class="d-flex align-items-center">
                          <div class="me-auto">FILLED</div>
                          <button title="Sort Ascending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','percentFilled','asc');toggleOrders('filleda')"
                            v-bind:class="{'bg-primary text-white':orders.filleda}">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','percentFilled','desc');toggleOrders('filledd')"
                            v-bind:class="{'bg-primary text-white':orders.filledd}">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" class="" v-bind:class="{'col-sort':orders.ratea || orders.rated}"
                        aria-colindex="5">
                        <div class="d-flex align-items-center">
                          <div class="me-auto">RATE</div>
                          <button title="Sort Ascending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','rate','asc');toggleOrders('ratea')"
                            v-bind:class="{'bg-primary text-white':orders.ratea}">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','rate','desc');toggleOrders('rated')"
                            v-bind:class="{'bg-primary text-white':orders.rated}">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" class="" v-bind:class="{'col-sort':orders.typea || orders.typed}"
                        aria-colindex="6">
                        <div class="d-flex align-items-center">
                          <div class="me-auto">TYPE</div>
                          <button title="Sort Ascending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','type','asc');toggleOrders('typea')"
                            v-bind:class="{'bg-primary text-white':orders.typea}">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="ms-1 btn btn-sm btn-outline-primary"
                            @click="sort('openorders','type','desc');toggleOrders('typed')"
                            v-bind:class="{'bg-primary text-white':orders.typed}">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" class="" style="width: 100px;" aria-colindex="7">
                        <div class="d-flex align-items-center">
                          <div class="me-3">&nbsp;</div>
                        </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody role="rowgroup">
                    <tr role="row" class="" v-for="order in openorders" v-if="!orders.value">
                      <td role="cell" class="" aria-colindex="1">
                        {{order.block}}
                      </td>
                      <td role="cell" class="" aria-colindex="2">
                        {{formatNumber(order.amount/1000,3,'.',',')}}
                      </td>
                      <td role="cell" class="" aria-colindex="3">
                        {{order.nai}}
                      </td>
                      <td role="cell" class="" aria-colindex="4">
                        {{formatNumber(order.percentFilled,3,'.',',')}}%
                      </td>
                      <td role="cell" class="" aria-colindex="5"
                        v-bind:class="{'text-danger':(order.type == 'hive:sell' || order.type == 'hbd:sell'), 'text-success':(order.type == 'hive:buy' || order.type == 'hbd:buy')}">
                        {{formatNumber(order.rate,6,'.',',')}}
                      </td>
                      <td role="cell" class="" aria-colindex="6"
                        v-bind:class="{'text-danger':(order.type == 'hive:sell' || order.type == 'hbd:sell'), 'text-success':(order.type == 'hive:buy' || order.type == 'hbd:buy')}">
                        {{toUpperCase(order.type)}}
                      </td>
                      <td role="cell" class="" aria-colindex="7" style="width: 100px;">
                        <button class="btn btn-sm btn-outline-warning" id="cancelbtn"
                          @click="cancelDEX(order.txid,prefix)">
                          CANCEL
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- trade forms -->
        <div id="tradeForms">
          <div class="row">
            <div class="mt-3 col-lg-6">
              <h4>Buy {{TOKEN}}</h4>
              <form name="buy" id="buyForm" @submit.prevent="validateForm('buyForm', 'buyFormValid');buyDEX()"
                class="form-horizontal needs-validation" novalidate>
                <div class="row mb-3">
                  <legend tabindex="-1" class="col-md-4 bv-no-focus-ring col-form-label" id="buy-type-label">
                    Order Type
                  </legend>
                  <div tabindex="-1" class="col">
                    <div class="btn-group">
                      <input type="radio" class="btn-check" name="buyType" id="buyLimit" autocomplete="off" checked
                        @click="togglebuylimit('limit');setValue('buyQuantity', 0);setValue('buyHours','720');setValue('buyPrice', buyhive.checked ? hivesells[0]?.rate || '0' : hbdsells[0]?.rate || '0');block()" />
                      <label class="btn btn-outline-warning" for="buyLimit">
                        LIMIT
                      </label>

                      <input type="radio" class="btn-check" name="buyType" id="buyMarket" autocomplete="off"
                        @click="togglebuylimit('market');setValue('buyQuantity','0');setValue('buyHours','0');setValue('buyHiveTotal',0);setValue('buyPrice', 0);setValue('buyHbdTotal',0);block()" />
                      <label class="btn btn-outline-warning" for="buyMarket">
                        MARKET
                      </label>
                    </div>
                  </div>
                  <div class="col text-end" v-if="account">
                    <div class="small text-muted" v-if="buyhive.checked">
                      BALANCE<br />
                      <a class="no-decoration" href="#/"
                        @click="setValue('buyHiveTotal',parseF(barhive) < maxhbuy? parseF(barhive) : maxhbuy)"
                        v-cloak>{{formatNumber(barhive,3,'.',',')}} HIVE</a>
                    </div>
                    <div class="small text-muted" v-if="buyhbd.checked">
                      BALANCE<br />
                      <a class="no-decoration" href="#/"
                        @click="setValue('buyHbdTotal',parseF(barhbd) < maxhbuy? parseF(barhbd) : maxhbuy)"
                        v-cloak>{{formatNumber(barhbd,3,'.',',')}} HBD</a>
                    </div>
                  </div>
                </div>

                <div class="row mb-3" v-if="buylimit.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="buyQuantity">
                    Quantity
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input type="number" v-on:keyup="bcalc('t')" ref="buyQty" required
                        :class="{'text-info':!bform.tl, ' text-white-50':bform.tl}" class="form-control"
                        v-model="buyQuantity" id="buyQuantity" placeholder="0" :min="minbuy" step="0.001"
                        aria-required="true" :readonly="bform.tl" />
                      <span class="input-group-text">
                        {{TOKEN}}
                        <a href="#/" class="ms-3 text-secondary" @click="block('t')"><i class="fas"
                            :class="{'fa-lock':bform.tl, 'fa-unlock-alt':!bform.tl, 'text-info':bform.tl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Minimum quantity is {{minbuy}}
                    </div>
                  </div>
                </div>

                <div class="row mb-3" v-if="buylimit.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="buyPrice">
                    Price
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input id="buyPrice" type="number" v-on:keyup="bcalc('p')" v-model="buyPrice" placeholder="0"
                        required step="0.000001" min="0.000001" aria-required="true"
                        :class="{'text-info':!bform.pl, ' text-white-50':bform.pl}" class="form-control"
                        :readonly="bform.pl" />
                      <span class="input-group-text">
                        <span v-if="buyhive.checked">HIVE</span>
                        <span v-if="buyhbd.checked">HBD</span> /{{TOKEN}}
                        <a href="#/" class="ms-3 text-secondary" @click="block('p')"><i class="fas"
                            :class="{'fa-lock':bform.pl, 'fa-unlock-alt':!bform.pl, 'text-info':bform.pl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Minimum price is 0.000001
                    </div>
                  </div>
                </div>

                <div class="row mb-3" v-if="buyhive.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" id="buy-hive-total-label">
                    Total
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input type="number" class="form-control" :readonly="bform.cl"
                        :class="{'text-info':!bform.cl, ' text-white-50':bform.cl}" v-model="buyHiveTotal"
                        id="buyHiveTotal" required v-on:keyup="bcalc('c')" placeholder="0" :min="minbuy" step="0.001"
                        :max="parseF(barhive) < parseF(maxhbuy) ? toFixed(parseF(barhive),3) : maxhbuy"
                        aria-required="true" />
                      <span class="input-group-text">
                        HIVE
                        <a href="#/" class="ms-3 text-secondary" @click="block('c')" v-if="buylimit.checked"><i
                            class="fas"
                            :class="{'fa-lock':bform.cl, 'fa-unlock-alt':!bform.cl, 'text-info':bform.cl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Your balance is {{barhive}} - minimum: {{minbuy}} -
                      max: {{parseF(barhive) < parseF(maxhbuy) ? toFixed(parseF(barhive),3) : maxhbuy}}{{parseF(barhive)
                        < parseF(maxhbuy) ? '' : '(Liquidity)' }} </div>
                    </div>
                  </div>

                  <div class="row mb-3" v-if="buyhbd.checked">
                    <legend tabindex="-1" class="col-md-4 col-form-label" for="buyHbdTotal">
                      Total
                    </legend>
                    <div tabindex="-1" role="group" class="col">
                      <div role="group" class="input-group">
                        <input type="number" class="form-control" :readonly="bform.cl"
                          :class="{'text-info':!bform.cl, ' text-white-50':bform.cl}" v-model="buyHbdTotal"
                          id="buyHbdTotal" required v-on:keyup="bcalc('c')" placeholder="0" :min="minbuy" step="0.001"
                          :max="parseF(barhbd) < parseF(maxdbuy) ? toFixed(parseF(barhbd),3) : maxdbuy"
                          aria-required="true" />

                        <span class="input-group-text">
                          HBD
                          <a href="#/" class="ms-3 text-secondary" @click="block('c')" v-if="buylimit.checked"><i
                              class="fas"
                              :class="{'fa-lock':bform.cl, 'fa-unlock-alt':!bform.cl, 'text-info':!bform.cl}"></i></a>
                        </span>
                      </div>
                      <div class="invalid-feedback">
                        Your balance is {{barhbd}} - minimum: {{minbuy}} -
                        max: {{parseF(barhbd) < parseF(maxdbuy) ? toFixed(parseF(barhbd),3) : maxdbuy}}{{parseF(barhbd)
                          < parseF(maxdbuy) ? '' : '(Liquidity)' }} </div>
                      </div>
                    </div>


                    <div class="row mb-3" v-if="buylimit.checked">
                      <legend tabindex="-1" class="col-md-4 col-form-label" for="buyHours">
                        Expiration
                      </legend>
                      <div tabindex="-1" role="group" class="col">
                        <div class="input-group">
                          <input id="buyHours" v-model="buyHours" type="number" required step="1" min="1" max="720"
                            aria-required="true" class="form-control text-info" :readonly="buymarket.checked" />
                          <span class="input-group-text">
                            HOURS
                          </span>
                        </div>
                        <div class="invalid-feedback">
                          Expiration must be between 1 and 720 hours
                        </div>
                      </div>
                    </div>


                    <div class="row mb-3">
                      <div class="text-end">
                        <button type="submit" class="btn btn-success">
                          Buy
                        </button>
                      </div>
                    </div>
              </form>
            </div>
            <div class="mt-3 col-lg-6">
              <h4>Sell {{TOKEN}}</h4>
              <form id="sellForm" @submit.prevent="validateForm('sellForm', 'sellFormValid');sellDEX()" name="sell"
                class="form-horizontal needs-validation" novalidate>
                <div class="row mb-3">
                  <legend tabindex="-1" class="col-md-4 bv-no-focus-ring col-form-label" id="sell-type-label">
                    Order Type
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="btn-group">
                      <input type="radio" class="btn-check" name="sellType" id="sellLimit" checked autocomplete="off"
                        @click="toggleselllimit('limit');setValue('sellHours', 720);setValue('sellPrice', buyhive.checked ? hivebuys[0]?.rate || 0 : hbdbuys[0]?.rate || 0 );slock()" />
                      <label class="btn btn-outline-warning" for="sellLimit">
                        LIMIT
                      </label>

                      <input type="radio" class="btn-check" name="sellType" id="sellMarket" autocomplete="off"
                        @click="toggleselllimit('market');setValue('sellHours', 0);setValue('sellPrice', 0);setValue('sellHiveTotal', 0);setValue('sellHbdTotal', 0);slock()" />
                      <label class="btn btn-outline-warning" for="sellMarket">
                        MARKET
                      </label>
                    </div>
                  </div>

                  <div class="col text-end" v-if="account">
                    <div class="small text-muted">
                      BALANCE<br />
                      <a class="no-decoration" href="#/"
                        @click="setValue('sellQuantity',balance)">{{formatNumber(bartoken,3,'.',',')}}
                        {{TOKEN}}</a>
                    </div>
                  </div>
                </div>

                <div class="row mb-3">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="sellQuantity">
                    Quantity
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input type="number" v-on:keyup="scalc('t')" required class="form-control" v-model="sellQuantity"
                        id="sellQuantity" placeholder="0" :min="minsell" step="0.001" :readonly="sform.tl"
                        :class="{'text-info':!sform.tl, ' text-white-50':sform.tl}" aria-required="true"
                        :max="parseF(bartoken)" />

                      <span class="input-group-text">
                        {{TOKEN}}<a href="#/" class="ms-3 text-secondary" @click="slock('t')"
                          v-if="selllimit.checked"><i class="fas"
                            :class="{'fa-lock':sform.tl, 'fa-unlock-alt':!sform.tl, 'text-info':sform.tl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Your balance is {{(accountapi.balance/1000)}} -
                      minimum quantity is {{minsell}}
                    </div>
                  </div>
                </div>


                <div class="row mb-3" v-if="!sellmarket.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="sellPrice">
                    Price
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input id="sellPrice" v-on:keyup="scalc('p')" v-model="sellPrice" type="number" placeholder="0"
                        required step="0.000001" min="0.000001" aria-required="true" class="form-control"
                        :readonly="sform.pl" :class="{'text-info':!sform.pl, ' text-white-50':sform.pl}" />
                      <span class="input-group-text">
                        <span v-if="buyhive.checked">HIVE</span><span v-if="buyhbd.checked">HBD</span>/{{TOKEN}}<a
                          href="#/" class="ms-3 text-secondary" @click="slock('p')" v-if="selllimit.checked"><i
                            class="fas"
                            :class="{'fa-lock':sform.pl, 'fa-unlock-alt':!sform.pl, 'text-info':sform.pl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Minimum price is 0.000001
                    </div>
                  </div>
                </div>

                <div class="row mb-3" v-if="buyhive.checked && selllimit.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="sellHiveTotal">
                    Total
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input type="number" class="form-control" :readonly="sform.cl"
                        :class="{'text-info':!sform.cl, ' text-white-50':sform.cl}" id="sellHiveTotal" required
                        v-model="sellHiveTotal" v-on:keyup="scalc('c')" placeholder="0" min="0.001" step="0.001"
                        aria-required="true" />
                      <span class="input-group-text">
                        HIVE<a href="#/" class="ms-3 text-secondary" @click="slock('c')" v-if="selllimit.checked"><i
                            class="fas"
                            :class="{'fa-lock':sform.cl, 'fa-unlock-alt':!sform.cl, 'text-info':sform.cl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Minimum total is 0.001 - increase the Price or use
                      Market Type.
                    </div>
                  </div>
                </div>


                <div class="row mb-3" v-if="buyhbd.checked && selllimit.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="sellHbdTotal">
                    Total
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div role="group" class="input-group">
                      <input type="number" class="form-control" :readonly="sform.cl"
                        :class="{'text-info':!sform.cl, ' text-white-50':sform.cl}" id="sellHbdTotal"
                        v-model="sellHbdTotal" required placeholder="0" min="0.001" step="0.001" aria-required="true" />
                      <span class="input-group-text">
                        HBD<a href="#/" class="ms-3 text-secondary" @click="slock('c')" v-if="selllimit.checked"><i
                            class="fas"
                            :class="{'fa-lock':sform.cl, 'fa-unlock-alt':!sform.cl, 'text-info':sform.cl}"></i></a>
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Minimum total is 0.001 - increase the Price or use
                      Market Type.
                    </div>
                  </div>
                </div>


                <div class="row mb-3" v-if="!sellmarket.checked">
                  <legend tabindex="-1" class="col-md-4 col-form-label" for="sellHours">
                    Expiration
                  </legend>
                  <div tabindex="-1" role="group" class="col">
                    <div class="input-group">
                      <input id="sellHours" v-on:keyup="scalc('c')" v-model="sellHours" type="number" required step="1"
                        min="1" max="720" aria-required="true" class="form-control text-info"
                        :readonly="sellmarket.checked" />
                      <span class="input-group-text">
                        HOURS
                      </span>
                    </div>
                    <div class="invalid-feedback">
                      Expiration must be between 1 and 720 hours
                    </div>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="text-end">
                    <button type="submit" class="btn btn-danger">
                      Sell
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!-- HIVE orders -->
        <div id="hiveData" v-if="buyhive.checked" class="mb-3">
          <div id="hiveMarketOrders">
            <div class="row">
              <div class="mt-3 col-lg-6">
                <h4>Buy Orders</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hivebuyordertable">
                    <thead role="rowgroup">
                      <tr role="row">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          TOTAL HIVE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          <div>HIVE</div>
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          {{TOKEN}}
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="4" class="">
                          <div>BID</div>
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-orders">
                      <tr role="row" v-for="item in hivebuys">
                        <td aria-colindex="1" role="cell" class="">
                          {{formatNumber(item.total/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="2" role="cell" class="">
                          {{formatNumber(item.hive/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell" class="">
                          {{formatNumber(item.amount/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="4" role="cell" class="text-primary">
                          <a class="no-decoration" href="#/"
                            @click="setValue('buyPrice', item.rate);setValue('sellPrice', item.rate);suggestValue('sellQuantity', item.at > balance ? balance : item.at/1000);suggestValue('sellHiveTotal', item.at > balance ? (balance/item.total)/1000 : item.total/1000 )">{{formatNumber(item.rate,6,'.',',')}}</a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="mt-3 col-lg-6">
                <h4>Sell Orders</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hivesellorderstable">
                    <thead role="rowgroup" class="">
                      <tr role="row" class="">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          <div>ASK</div>
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          {{TOKEN}}
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          <div>HIVE</div>
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="4" class="">
                          TOTAL HIVE
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-orders">
                      <tr class="" role="row" v-for="item in hivesells">
                        <td aria-colindex="1" role="cell" class="text-primary">
                          <a class="no-decoration" href="#/"
                            @click="setValue('buyPrice', item.rate);setValue('sellPrice', item.rate);suggestValue('buyHiveTotal', item.total/1000 );suggestValue('buyQuantity', item.at/1000 )">{{formatNumber(item.rate,6,'.',',')}}</a>
                        </td>
                        <td aria-colindex="2" role="cell" class="">
                          {{formatNumber(item.amount/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell" class="">
                          {{formatNumber(item.hive/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="4" role="cell" class="">
                          {{formatNumber(item.total/1000,3,'.',',')}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div id="hiveTradeHistory" ref="chartContainer">
            <div class="row">
              <div class="mt-3 col-12">
                <h4>Detailed Trade History</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hbdtradehistorytable">
                    <thead role="rowgroup" class="">
                      <tr role="row">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          TIME
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          PRICE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          QTY
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-history">
                      <tr class="" role="row" v-for="item in recenthive">
                        <td aria-colindex="1" role="cell" class="">
                          {{new Date(item.trade_timestamp).toLocaleTimeString()}}
                        </td>
                        <td aria-colindex="2" role="cell" class=""
                          v-bind:class="{'text-danger': (item.type == 'sell'), 'text-success': (item.type == 'buy')}">
                          {{formatNumber(item.price,6,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell" class="">
                          {{formatNumber(item.target_volume,3,'.',',')}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <h4>Daily Trade History</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hbdtradehistorytable">
                    <thead role="rowgroup" class="">
                      <tr role="row">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          DATE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          OPEN
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="4" class="">
                          HIGH
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="5" class="">
                          LOW
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="6" class="">
                          CLOSE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          VOLUME
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-history">
                      <tr class="" role="row" v-for="item in dailyhive">
                        <td aria-colindex="1" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{new
                          Date(item.trade_timestamp).toLocaleDateString()}}
                        </td>
                        <td aria-colindex="2" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.open,6,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.high,6,'.',',')}}
                        </td>
                        <td aria-colindex="4" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.low,6,'.',',')}}
                        </td>
                        <td aria-colindex="5" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.close,6,'.',',')}}
                        </td>
                        <td aria-colindex="6" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.volume / 1000,3,'.',',')}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- HBD orders -->
        <div id="hbdData" v-if="buyhbd.checked" class="mb-3">
          <div id="hbdMarketOrders">
            <div class="row">
              <div class="mt-3 col-lg-6">
                <h4>Buy Orders</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hbdbuyordertable">
                    <thead role="rowgroup" class="">
                      <tr role="row" class="">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          TOTAL HBD
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          <div>HBD</div>
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          {{TOKEN}}
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="4" class="">
                          <div>BID</div>
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-orders">
                      <tr class="" role="row" v-for="item in hbdbuys">
                        <td aria-colindex="1" role="cell" class="">
                          {{formatNumber(item.total/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="2" role="cell" class="">
                          {{formatNumber(item.hbd/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell" class="">
                          {{formatNumber(item.amount/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="4" role="cell" class="">
                          <a class="no-decoration" href="#/"
                            @click="setValue('buyPrice', item.rate);setValue('sellPrice', item.rate);suggestValue('sellQuantity', item.at > balance ? balance : item.at/1000);suggestValue('sellHbdTotal', item.at > balance ? (balance/item.total)/1000 : item.total/1000 )">{{formatNumber(item.rate,6,'.',',')}}</a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="mt-3 col-lg-6">
                <h4>Sell Orders</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hbdsellorderstable">
                    <thead role="rowgroup" class="">
                      <tr role="row" class="">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          <div>ASK</div>
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          {{TOKEN}}
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          <div>HBD</div>
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="4" class="">
                          TOTAL HBD
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-orders">
                      <tr class="" role="row" v-for="item in hbdsells">
                        <td aria-colindex="1" role="cell" class="">
                          <a class="no-decoration" href="#/"
                            @click="setValue('buyPrice', item.rate);setValue('sellPrice', item.rate);;suggestValue('buyHbdTotal', item.total/1000 );suggestValue('buyQuantity', item.at/1000 )">{{formatNumber(item.rate,6,'.',',')}}</a>
                        </td>
                        <td aria-colindex="2" role="cell" class="">
                          {{formatNumber(item.amount/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell" class="">
                          {{formatNumber(item.hbd/1000,3,'.',',')}}
                        </td>
                        <td aria-colindex="4" role="cell" class="">
                          {{formatNumber(item.total/1000,3,'.',',')}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div id="hbdTradeHistory">
            <div class="row">
              <div class="mt-3 col-12">
                <h4>Detailed Trade History</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hbdtradehistorytable">
                    <thead role="rowgroup" class="">
                      <tr role="row">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          TIME
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          PRICE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          QTY
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-history">
                      <tr class="" role="row" v-for="item in recenthbd">
                        <td aria-colindex="1" role="cell" class="">
                          {{new Date(item.trade_timestamp).toLocaleTimeString()}}
                        </td>
                        <td aria-colindex="2" role="cell" class=""
                          v-bind:class="{'text-danger': (item.type == 'sell'), 'text-success': (item.type == 'buy')}">
                          {{formatNumber(item.price,6,'.',',')}}
                        </td>
                        <td aria-colindex="3" role="cell" class="">
                          {{formatNumber(item.target_volume,3,'.',',')}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <h4>Daily Trade History</h4>
                <div class="table-responsive table-blur rounded border">
                  <table role="table" aria-busy="false" aria-colcount="4" class="table table-striped table-hover"
                    id="hbdtradehistorytable">
                    <thead role="rowgroup" class="">
                      <tr role="row">
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          DATE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          OPEN
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          HIGH
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="1" class="">
                          LOW
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="2" class="">
                          CLOSE
                        </th>
                        <th role="columnheader" scope="col" aria-colindex="3" class="">
                          VOLUME
                        </th>
                      </tr>
                    </thead>
                    <tbody role="rowgroup" class="tbody-scroll-history">
                      <tr class="" role="row" v-for="item in dailyhbd">
                        <td aria-colindex="3" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{new
                          Date(item.trade_timestamp).toLocaleDateString()}}
                        </td>
                        <td aria-colindex="1" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.open,6,'.',',')}}
                        </td>
                        <td aria-colindex="1" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.high,6,'.',',')}}
                        </td>
                        <td aria-colindex="1" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.low,6,'.',',')}}
                        </td>
                        <td aria-colindex="1" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.close,6,'.',',')}}
                        </td>
                        <td aria-colindex="2" role="cell"
                          v-bind:class="{'text-danger': (item.open < item.close), 'text-success': (item.open >= item.close)}">
                          {{formatNumber(item.volume / 1000,3,'.',',')}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- runner status Modal -->
      <div class="modal fade" id="runnerStatusModal" tabindex="-1" aria-labelledby="runnerStatusModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content bg-blur-darkg bg-img-none">
            <div class="modal-header pb-1 flex-column border-bottom-0">
              <div class="d-flex mb-1 justify-content-between w-100 align-items-center">

                <!-- Title -->
                <h1 class="modal-title fs-5" id="runnerStatusModalLabel">{{TOKEN}} Nodes</h1>

                <!-- Close -->
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>

              <!-- API Status -->
              <div class="d-flex align-items-center w-100">
                <span class="small"
                  :class="[{'text-success':behind < 30},{'text-warning':behind >= 30 && behind < 60},{'text-danger':behind >= 60}]">
                  <i class="fa-solid fa-satellite-dish fa-fw me-1"></i><span class="text-break">{{lapi}}</span>
                  <br>
                  <i class="fa-solid fa-link fa-fw me-1"></i><span>{{behind}} block<span
                      v-if="behind > 1 || behind == 0">s</span> behind HIVE</span></span>
              </div>
              <!-- Search -->
              <div class="w-100 mb-1">
                <div class="position-relative my-1 flex-grow-1">
                  <span class="position-absolute top-50 translate-middle-y ps-2"><i
                      class="fa-solid fa-magnifying-glass fa-fw"></i></span>
                  <input @keyup="searchRunners()" @change="searchRunners()" @search="searchRunners()"
                    class="ps-4 form-control border-white" type="search" v-model="filteraccount.value"
                    placeholder="Filter users and APIs">
                </div>
                <div class="mt-2 text-center display-5">
                  <span v-if="!filteraccount.value">{{runners.length}} Runner<span
                      v-if="runners.length > 1 || runners.length == 0">s</span></span>
                  <span v-if="filteraccount.value">{{runnersSearch.length}} Result<span
                      v-if="runnersSearch.length > 1 || runnersSearch.length == 0">s</span></span>
                </div>
              </div>
            </div>
            <div class="modal-body p-0">
              <div class="table-responsive table-blur border">
                <table role="table" aria-busy="false" aria-colcount="3" class="table table-striped table-hover">
                  <thead role="rowgroup" class="">
                    <tr role="row" class="">
                      <th role="columnheader" style="border-top-left-radius: .375em;"
                        v-bind:class="{'col-sort':filteraccount.usera || filteraccount.userd}" class=""
                        aria-colindex="1">
                        <div class="d-flex align-items-center">
                          <div class="me-3">USER</div>
                          <button title="Sort Ascending" type="button" class="mx-1 btn btn-sm btn-outline-primary"
                            v-bind:class="{'bg-primary text-white':filteraccount.usera}"
                            @click="sort(!filteraccount.value ? 'runners' : 'runnersSearch','account','asc');toggleAPI('usera')">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="mx-1 btn btn-sm btn-outline-primary"
                            v-bind:class="{'bg-primary text-white':filteraccount.userd}"
                            @click="sort(!filteraccount.value ? 'runners' : 'runnersSearch','account','desc');toggleAPI('userd')">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th role="columnheader" v-bind:class="{'col-sort':filteraccount.gova || filteraccount.govd}"
                        class="" aria-colindex="2">
                        <div class="d-flex align-items-center">
                          <div class="me-3">GOV</div>
                          <button title="Sort Ascending" type="button" class="mx-1 btn btn-sm btn-outline-primary"
                            v-bind:class="{'bg-primary text-white':filteraccount.gova}"
                            @click="sort(!filteraccount.value ? 'runners' : 'runnersSearch','g','asc');toggleAPI('gova')">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="mx-1 btn btn-sm btn-outline-primary"
                            v-bind:class="{'bg-primary text-white':filteraccount.govd}"
                            @click="sort(!filteraccount.value ? 'runners' : 'runnersSearch','g','desc');toggleAPI('govd')">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                      <th class="d-none d-lg-block" role="columnheader" style="border-top-right-radius: .375em;"
                        v-bind:class="{'col-sort':filteraccount.apia || filteraccount.apid}" class="" aria-colindex="3">
                        <div class="d-flex align-items-center">
                          <div class="me-3">API (Click to load)</div>
                          <button title="Sort Ascending" type="button" class="mx-1 btn btn-sm btn-outline-primary"
                            v-bind:class="{'bg-primary text-white':filteraccount.apia}"
                            @click="sort(!filteraccount.value ? 'runners' : 'runnersSearch','api','asc');toggleAPI('apia')">
                            <i class="fas fa-caret-up"></i>
                          </button>
                          <button title="Sort Descending" type="button" class="mx-1 btn btn-sm btn-outline-primary"
                            v-bind:class="{'bg-primary text-white':filteraccount.apid}"
                            @click="sort(!filteraccount.value ? 'runners' : 'runnersSearch','api','desc');toggleAPI('apid')">
                            <i class="fas fa-caret-down"></i>
                          </button>
                        </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <template v-for="node in runners" v-if="!filteraccount.value">
                      <tr>
                        <td role="cell" class="" aria-colindex="1">
                          <a :href="atref(node.account)" class="no-decoration text-primary">@{{node.account}}</a>
                        </td>
                        <td role="cell" class="" aria-colindex="2">
                          {{formatNumber(node.g/1000,3,'.',',')}}
                        </td>
                        <td role="cell" class="d-none d-lg-block" aria-colindex="3">
                          <a role="button" @click="setApi(node.api)" class="no-decoration text-break"
                            :class="{'text-danger': typeof proven[node.api] != 'number'}">{{node.api}}</a>
                        </td>
                      </tr>
                      <tr class="d-lg-none">
                        <td colspan="4" class="text-center">
                          <a role="button" @click="setApi(node.api)" class="no-decoration fw-normal"
                            :class="{'text-danger': typeof proven[node.api] != 'number'}">{{node.api}}</a>
                        </td>
                      </tr>
                    </template>
                    <template v-for="node in runnersSearch" v-if="filteraccount.value">
                      <tr class="" role="row">
                        <td role="cell" class="" aria-colindex="1">
                          <a :href="atref(node.account)" class="no-decoration text-primary">@{{node.account}}</a>
                        </td>
                        <td role="cell" class="" aria-colindex="2">
                          {{formatNumber(node.g/1000,3,'.',',')}}
                        </td>
                        <td role="cell" class="d-none d-lg-block" aria-colindex="3">
                          <a role="button" @click="setApi(node.api)" class="no-decoration"
                            :class="{'text-danger': typeof proven[node.api] != 'number'}">{{node.api}}</a>
                        </td>
                      </tr>
                      <tr scope="row" class="d-lg-none">
                        <td colspan="4" class="text-center">
                          <a role="button" @click="setApi(node.api)" class="no-decoration"
                            :class="{'text-danger': typeof proven[node.api] != 'number'}">{{node.api}}</a>
                        </td>
                      </tr>
                    </template>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="modal-footer border-top-0">
            </div>
          </div>
        </div>
      </div>
      <!-- token settings Modal -->
      <div class="modal fade" id="tokenSettingsModal" tabindex="-1" aria-labelledby="tokenSettingsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content bg-blur-darkg bg-img-none">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="tokenSettingsModalLabel">{{TOKEN}} Node Settings</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!-- node settings -->
              <div id="userNode" class="">
                <h4 class="text-center text-white-50">@{{account}}</h4>
                <form name="nodeSettings" class="needs-validation" novalidate>
                  <div class="row mb-3" v-for="opt in features?.node?.opts">
                    <label :for="opt.json" class="form-label">{{opt.S}}:</label>
                    <div class="input-group">
                      <input v-if="opt.type == 'text'" :type="opt.type" v-model="opt.val" class="form-control text-info"
                        :id="opt.json" :placeholder="opt.info" />
                      <input v-if="opt.type == 'number'" :type="opt.type" v-model="opt.val"
                        class="form-control text-info" :id="opt.json" :placeholder="opt.info" :max="opt.max"
                        :min="opt.min" />
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" id="saveSettingsBtn" @click="saveNodeSettings()" class="btn btn-primary">Save
                changes</button>
            </div>
          </div>
        </div>
      </div>
      <!-- dexWallet Modal -->
      <div class="modal fade" id="dexWallet" tabindex="-1" aria-labelledby="dexWalletLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <h1 class="modal-title fs-5" id="dexWalletLabel"> <span
                  class="px-2 py-1 rounded border border-warning text-warning"><i
                    class="fa-solid fa-atom fa-fw me-1"></i>{{TOKEN}}</span></h1>
              <h1 class="small mb-0 d-none" title="Honeycomb Hive Layer 2 Wallet"><span>Honeycomb</span><br><span
                  class="fw-lighter">HL2 Wallet</span></h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-0">
              <div class="accordion wallet-accordion rounded-0 bg-darkg" id="accordionWallet">
                <!-- token -->
                <div class="accordion-item  bg-warning rounded-0" v-if="account" v-if="features.send_B">
                  <h2 class="accordion-header rounded-0">
                    <button class="accordion-button collapsed rounded-0" type="button" data-bs-toggle="collapse"
                      data-bs-target="#collapseWalletOne" aria-expanded="true" aria-controls="collapseWalletOne">
                      {{TOKEN}}<span class="ms-auto small">{{formatNumber(bartoken,3,'.',',')}}</span>
                    </button>
                  </h2>
                  <div id="collapseWalletOne" class="accordion-collapse collapse " data-bs-parent="#accordionWallet">
                    <div class="accordion-body bg-darkg">
                      <!-- Dynamic Token Action Menu -->
                      <div v-if="account" class="d-flex flex-wrap">
                        <!-- Balances Summary -->
                        <div class="w-100 mx-1 mb-2 border-bottom border-white-50">
                          <div class="d-flex flex-column text-center py-2">
                            <div class="d-flex justify-content-between align-items-center mb-1">
                              <span class="text-honey">{{TOKEN}}:</span>
                              <span
                                class="text-honey">{{formatNumber(accountapi.balance/pow10(protocol.precision),3,'.',',')}}</span>
                            </div>
                            <div v-if="accountapi.poweredUp"
                              class="d-flex justify-content-between align-items-center mb-1">
                              <span class="text-primary">{{TOKEN}}P:</span>
                              <span
                                class="text-primary">{{formatNumber(accountapi.poweredUp/pow10(protocol.precision),3,'.',',')}}</span>
                            </div>
                            <div v-if="accountapi.gov" class="d-flex justify-content-between align-items-center">
                              <span class="text-info">{{TOKEN}}G:</span>
                              <span
                                class="text-info">{{formatNumber(accountapi.gov/pow10(protocol.precision),3,'.',',')}}</span>
                            </div>
                          </div>
                        </div>
                        <!-- Actions -->
                        <div v-for="action in features" class="d-flex"
                          :class="{'w-100': action.id == 'rewards' || action.id == 'claim' && accountapi[action.addr || 'balance'] > 0}">
                          <!-- claim / rewards-->
                          <div
                            v-if="action.id == 'rewards' || action.id == 'claim' && accountapi[action.addr || 'balance'] > 0"
                            class="d-flex flex-grow-1">
                            <div class="d-flex flex-column w-100 pt-2 mx-1 mb-2 border-bottom border-white-50">
                              <div class="d-flex justify-content-between align-items-center mb-2">
                                <span v-if="action.id == 'rewards' || action.id == 'claim'">{{action.string}}:</span>
                                <span
                                  v-if="action.id == 'rewards' || action.id == 'claim'">{{formatNumber(accountapi[action.addr
                                  || 'balance']/pow10(protocol.precision),3,'.',',')}}
                                  {{TOKEN}}</span>
                              </div>
                              <modal-vue v-if="protocol.head_block && accountapi.head_block" :func="action.id"
                                :mypfp="mypfp" :token="TOKEN" :tokenuser="accountapi" :account="account"
                                :tokenprotocol="protocol" :api="lapi" :tokenstats="stats" @tosign="toSign = $event"
                                v-slot:trigger class="d-flex w-100 pb-3">
                                <button type="button" class="btn btn-danger w-100 trigger">
                                  Claim<i :class="action.fa_class" class="ms-2"></i>
                                </button>
                              </modal-vue>
                            </div>
                          </div>
                          <!-- wallet functions -->
                          <div v-else class="d-flex" style="width: 150px;">
                            <modal-vue v-if="protocol.head_block && accountapi.head_block" :func="action.id"
                              :mypfp="mypfp" :token="TOKEN" :tokenuser="accountapi" :account="account"
                              :tokenprotocol="protocol" :api="lapi" :tokenstats="stats" @tosign="toSign = $event"
                              v-slot:trigger class="d-flex w-100">
                              <button type="button"
                                class="btn btn-dark border border-white-50 m-1 trigger w-100 d-flex align-items-center justify-content-center"
                                style="font-size: .9em;">
                                <span class="d-flex flex-column">
                                  <i :class="action.fa_class" class="mb-1"></i>
                                  {{action.string}}
                                </span>
                              </button>
                            </modal-vue>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- HIVE -->
                <div class="accordion-item bg-hive" v-if="account">
                  <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                      data-bs-target="#collapseWalletFour" aria-expanded="false" aria-controls="collapseWalletFour">
                      HIVE<span class="ms-auto small">{{formatNumber(barhive,3,'.',',')}}</span>
                    </button>
                  </h2>
                  <div id="collapseWalletFour" class="accordion-collapse collapse" data-bs-parent="#accordionWallet">
                    <div class="accordion-body bg-darkg">
                      <!-- send hive form -->
                      <h6 class="dropdown-header text-center">SEND HIVE</h6>
                      <form id="hiveForm" @submit.prevent="validateForm('hiveForm', 'hiveFormValid');sendhive()"
                        class="needs-validation" novalidate>
                        <div class="row mb-3">
                          <label class="form-label" for="sendHiveTo">To:</label>
                          <div class="input-group">
                            <span class="input-group-text text-white-50">
                              @
                            </span>
                            <input id="" class="form-control text-info"
                              @blur="checkAccount('sendHiveTo', 'sendHiveAllowed')" required v-model="sendHiveTo"
                              type="text" placeholder="Recipient" />
                          </div>
                        </div>
                        <div class="row mb-3">
                          <label class="form-label">Amount:</label>
                          <div class="input-group">
                            <input class="form-control text-info" required v-model="sendHiveAmount" type="number"
                              step="0.001" min="0.001" :max="parseF(barhive)" placeholder="0.000" />
                            <span class="input-group-text text-white-50">
                              HIVE
                            </span>
                          </div>
                          <div class="small text-center pt-2">
                            <a type="button" @click="setValue('sendHiveAmount',parseF(barhive))"
                              class="text-hive no-decoration">{{formatNumber(barhive,3,'.',',')}} HIVE</a>
                            Available
                          </div>
                        </div>
                        <div class="row mb-3">
                          <label class="form-label">Memo:</label>
                          <div class="input-group">
                            <input class="form-control text-info" type="text" v-model="sendHiveMemo"
                              placeholder="memo (optional)" />
                          </div>
                        </div>
                        <div class="text-center mb-2">
                          <button type="submit" class="btn btn-hive">
                            Send<i class="fas fa-paper-plane ms-2"></i>
                          </button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
                <!-- HBD -->
                <div class="accordion-item bg-hbd rounded-0" v-if="account">
                  <h2 class="accordion-header rounded-0">
                    <button class="accordion-button collapsed rounded-0 " type="button" data-bs-toggle="collapse"
                      data-bs-target="#collapseWalletFive" aria-expanded="false" aria-controls="collapseWalletFive">
                      HBD <span class="ms-auto small">{{formatNumber(barhbd,3,'.',',')}}</span>
                    </button>
                  </h2>
                  <div id="collapseWalletFive" class="accordion-collapse collapse" data-bs-parent="#accordionWallet">
                    <div class="accordion-body bg-darkg">
                      <!-- send hbd form -->
                      <h6 class="dropdown-header text-center">SEND HBD</h6>
                      <form id="hbdForm" @submit.prevent="validateForm('hbdForm', 'hbdFormValid');sendhbd()"
                        class="needs-validation" novalidate>
                        <div class="row mb-3">
                          <label class="form-label">To:</label>
                          <div class="input-group">
                            <span class="input-group-text text-white-50">
                              @</span>
                          </div>
                          <div class="row mb-3">
                            <label class="form-label">Amount:</label>
                            <div class="input-group">
                              <input class="form-control text-info" required v-model="sendHBDAmount" type="number"
                                step="0.001" min="0.001" :max="parseF(barhbd)" placeholder="0.000" />
                              <span class="input-group-text text-white-50">
                                HBD
                              </span>
                            </div>
                            <div class="small text-center pt-2">
                              <a role="button" @click="setValue('sendHBDAmount',parseF(barhbd))"
                                class="text-hbd no-decoration">{{formatNumber(barhbd,3,'.',',')}} HBD</a>
                              Available
                            </div>
                          </div>
                          <div class="row mb-3">
                            <label class="form-label">Memo:</label>
                            <div class="input-group">
                              <input class="form-control text-info" v-model="sendHBDMemo" type="text"
                                placeholder="memo (optional)" />
                            </div>
                          </div>
                          <div class="text-center mb-2">
                            <button type="submit" class="btn btn-hbd">
                              Send<i class="fas fa-paper-plane ms-2"></i>
                            </button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
            </div>
          </div>
        </div>
      </div>
    </main>
    <foot-vue />
  </div>
  <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
      "use strict";
      window.addEventListener("load", function () {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName("needs-validation");
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function (form) {
          form.addEventListener(
            "submit",
            function (event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add("was-validated");
            },
            false
          );
        });
      });
    })();
  </script>
  <script>
    var disabletab = document.getElementsByClassName("disabled-input");
    for (var i = 0; i < disabletab.length; i++) {
      disabletab[i].setAttribute("tabindex", "-1");
    }
    var toastElList = [].slice.call(document.querySelectorAll(".toast"));
    var toastList = toastElList.map(function (toastEl) {
      return new bootstrap.Toast(toastEl, {});
    });
    //demo
    var toastTrigger = document.getElementById("liveToastBtn");
    var toastLiveExample = document.getElementById("liveToast");
    if (toastTrigger) {
      toastTrigger.addEventListener("click", function () {
        var toast = new bootstrap.Toast(toastLiveExample);

        toast.show();
      });
    }
    //undemo
    var tooltipTriggerList = [].slice.call(
      document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  </script>
  <!-- <script src="/js/session.js"></script> -->
  <!-- <script type="text/javascript" src="/js/chart.js"></script> -->
  <!-- Bootstrap -->
  <script src="/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"
    integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv4.min.js"></script>
</body>

</html>